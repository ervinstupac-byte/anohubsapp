<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FRANCIS UNIT 1 - SYSTEM MAP & LOGIC HUB</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://unpkg.com/lucide@latest"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700;800&display=swap');

        body {
            background-color: #020617;
            color: #cbd5e1;
            font-family: 'JetBrains Mono', monospace;
        }

        /* Sector Cards */
        .sector-card {
            background: rgba(15, 23, 42, 0.6);
            border: 1px solid rgba(51, 65, 85, 0.5);
            transition: all 0.3s ease;
            backdrop-filter: blur(10px);
        }

        .sector-card:hover {
            border-color: rgba(96, 165, 250, 0.5);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px -10px rgba(0, 0, 0, 0.5);
        }

        /* Status Dots */
        .status-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 0 5px currentColor;
        }

        .status-green {
            background-color: #22c55e;
            color: #22c55e;
        }

        .status-yellow {
            background-color: #eab308;
            color: #eab308;
        }

        .status-red {
            background-color: #ef4444;
            color: #ef4444;
            animation: blink 1s infinite;
        }

        @keyframes blink {
            50% {
                opacity: 0.5;
            }
        }

        /* Module Link */
        .module-link {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem;
            border-radius: 0.5rem;
            background: rgba(30, 41, 59, 0.4);
            border: 1px solid rgba(51, 65, 85, 0.3);
            transition: all 0.2s;
        }

        .module-link:hover {
            background: rgba(30, 41, 59, 0.8);
            border-color: #3b82f6;
        }

        /* Health Meter */
        .health-dial {
            background: conic-gradient(from 180deg, #22c55e 0%, #22c55e var(--health), #334155 var(--health), #334155 100%);
            border-radius: 50%;
            width: 120px;
            height: 120px;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 0 30px rgba(34, 197, 94, 0.4), inset 0 0 20px rgba(0, 0, 0, 0.5);
            animation: pulse-glow 3s ease-in-out infinite;
        }

        @keyframes pulse-glow {

            0%,
            100% {
                box-shadow: 0 0 30px rgba(34, 197, 94, 0.4), inset 0 0 20px rgba(0, 0, 0, 0.5);
            }

            50% {
                box-shadow: 0 0 40px rgba(34, 197, 94, 0.6), inset 0 0 20px rgba(0, 0, 0, 0.5);
            }
        }

        .dial-inner {
            background: #020617;
            width: 80%;
            height: 80%;
            border-radius: 50%;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }
    </style>
</head>

<body class="min-h-screen p-4 md:p-8">

    <!-- Header & Health Score -->
    <header class="mb-10 border-b border-slate-800 pb-6">

        <!-- Back Button Row -->
        <div class="mb-6">
            <a href="../index.html"
                class="inline-flex items-center gap-2 text-slate-400 hover:text-cyan-400 transition group">
                <i data-lucide="arrow-left" class="w-4 h-4 group-hover:-translate-x-1 transition"></i>
                <span class="text-sm font-bold" data-i18n="back_to_selector">← Back to Turbine Selection</span>
            </a>
        </div>

        <!-- Main Header Content -->
        <div
            class="flex flex-col xl:flex-row justify-between items-start xl:items-center gap-8 bg-gradient-to-r from-slate-900/50 via-slate-800/30 to-slate-900/50 p-6 rounded-xl border border-slate-700/50">

            <!-- Left: Title & Language -->
            <div>
                <div class="flex items-center gap-3 mb-3">
                    <div class="p-3 bg-cyan-900/30 rounded-lg border border-cyan-500/30">
                        <i data-lucide="cpu" class="text-cyan-400 w-8 h-8"></i>
                    </div>
                    <div>
                        <h1 class="text-4xl font-black text-white tracking-tighter uppercase">FRANCIS <span
                                class="text-cyan-400">UNIT 1</span></h1>
                        <p class="text-slate-500 text-xs tracking-widest mt-1" data-i18n="subtitle">LOGIC HUB & SYSTEM
                            MAP
                        </p>
                    </div>
                </div>
                <!-- Language Toggle -->
                <div class="flex gap-2 ml-14">
                    <button onclick="setLang('en')" id="btnEn"
                        class="px-3 py-1 text-xs font-bold bg-cyan-600 text-white rounded hover:bg-cyan-500 transition">EN</button>
                    <button onclick="setLang('bs')" id="btnBs"
                        class="px-3 py-1 text-xs font-bold bg-slate-700 text-slate-400 rounded hover:bg-slate-600 transition">BS</button>
                </div>
            </div>

            <!-- Center: Quick Actions -->
            <div class="flex flex-col sm:flex-row gap-3">
                <a href="Francis_Mission_Control.html"
                    class="px-5 py-3 bg-gradient-to-br from-red-900/40 to-red-950/60 border border-red-500/50 rounded-lg flex items-center justify-center gap-3 hover:from-red-800/50 hover:to-red-900/70 hover:border-red-400 transition-all group shadow-lg shadow-red-900/20">
                    <i data-lucide="power" class="text-red-400 w-5 h-5 group-hover:scale-110 transition"></i>
                    <div class="text-left">
                        <div class="text-[9px] text-red-400 font-bold uppercase tracking-wider"
                            data-i18n="mission_control">Mission Control</div>
                        <div class="text-white text-xs font-black tracking-widest" data-i18n="start_seq">START SEQUENCE
                        </div>
                    </div>
                </a>

                <a href="Francis_Emergency_Protocols.html"
                    class="px-5 py-3 bg-gradient-to-br from-orange-900/40 to-orange-950/60 border border-orange-500/50 rounded-lg flex items-center justify-center gap-3 hover:from-orange-800/50 hover:to-orange-900/70 hover:border-orange-400 transition-all group shadow-lg shadow-orange-900/20">
                    <i data-lucide="alert-triangle"
                        class="text-orange-400 w-5 h-5 group-hover:scale-110 transition"></i>
                    <div class="text-left">
                        <div class="text-[9px] text-orange-400 font-bold uppercase tracking-wider"
                            data-i18n="emergency">Emergency</div>
                        <div class="text-white text-xs font-black tracking-widest" data-i18n="protocols">PROTOCOLS</div>
                    </div>
                </a>

                <a href="Francis_Flowchart_Startup.html"
                    class="px-5 py-3 bg-gradient-to-br from-green-900/40 to-green-950/60 border border-green-500/50 rounded-lg flex items-center justify-center gap-3 hover:from-green-800/50 hover:to-green-900/70 hover:border-green-400 transition-all group shadow-lg shadow-green-900/20">
                    <i data-lucide="git-branch" class="text-green-400 w-5 h-5 group-hover:scale-110 transition"></i>
                    <div class="text-left">
                        <div class="text-[9px] text-green-400 font-bold uppercase tracking-wider" data-i18n="startup">
                            Startup</div>
                        <div class="text-white text-xs font-black tracking-widest" data-i18n="flowchart">FLOWCHART</div>
                    </div>
                </a>
            </div>

            <!-- Right: Health Score & Ticker -->
            <div class="flex items-center gap-6 bg-slate-900/70 p-4 rounded-lg border border-slate-700/50 shadow-xl">
                <div class="health-dial" style="--health: 88%">
                    <div class="dial-inner">
                        <span class="text-2xl font-black text-white" id="scoreVal">88%</span>
                        <span class="text-[8px] text-slate-500 uppercase" data-i18n="health">HEALTH</span>
                    </div>
                </div>

                <div class="w-48">
                    <div class="text-[10px] font-bold text-slate-500 uppercase mb-2 flex justify-between">
                        <span data-i18n="active_risks">Active Risks</span>
                        <span class="text-red-400 animate-pulse">2 CRITICAL</span>
                    </div>
                    <!-- Ticker -->
                    <div class="space-y-2 text-[10px]">
                        <div class="flex justify-between items-center text-red-300">
                            <span data-i18n="seal_leak">• Seal Leakage</span>
                            <a href="Francis_Logic_Logger.html"
                                class="text-slate-500 hover:text-white underline">LOGIC</a>
                        </div>
                        <div class="flex justify-between items-center text-red-500 font-bold">
                            <span data-i18n="peak_detect">• PEAK SURGE DETECT</span>
                            <a href="Francis_Symptom_Dictionary.html"
                                class="text-red-400 underline hover:text-white">W-04-WH</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </header>

    <!-- MAIN DASHBOARD GRID -->
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6">

        <!-- SECTOR 1: FLOW & PRESSURE -->
        <div class="sector-card p-6 rounded-lg relative overflow-hidden group">
            <div class="absolute top-0 left-0 w-1 h-full bg-cyan-500/50 group-hover:bg-cyan-400 transition"></div>
            <h2 class="text-xl font-bold text-cyan-400 mb-6 flex items-center gap-2">
                <i data-lucide="droplets"></i> <span data-i18n="sec_flow">FLOW & PRESSURE</span>
            </h2>

            <div class="space-y-3">
                <a href="Francis_SOP_MIV_Distributor_Detail.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="git-pull-request" class="w-4 h-4 text-cyan-600 group-hover:text-cyan-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white" data-i18n="link_miv">MIV &
                            Bypass</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
                <a href="Francis_SOP_Penstock.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="activity" class="w-4 h-4 text-cyan-600 group-hover:text-cyan-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_penstock">Penstock</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
                <a href="Francis_SOP_Intake.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="filter" class="w-4 h-4 text-cyan-600 group-hover:text-cyan-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_intake">Intake</span>
                    </div>
                </a>
                <a href="Francis_SOP_Cooling_Water.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="snowflake" class="w-4 h-4 text-cyan-600 group-hover:text-cyan-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_cooling">Cooling Water</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
                <a href="Francis_SOP_Drainage_Pumps.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="waves" class="w-4 h-4 text-cyan-600 group-hover:text-cyan-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_drainage">Drainage</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
            </div>
        </div>

        <!-- SECTOR 2: ROTATION (MECHANICAL) -->
        <div class="sector-card p-6 rounded-lg relative overflow-hidden group">
            <div class="absolute top-0 left-0 w-1 h-full bg-amber-500/50 group-hover:bg-amber-400 transition"></div>
            <h2 class="text-xl font-bold text-amber-500 mb-6 flex items-center gap-2">
                <i data-lucide="settings"></i> <span data-i18n="sec_rot">ROTATION</span>
            </h2>

            <div class="space-y-3">
                <a href="Francis_SOP_Bearings.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="disc" class="w-4 h-4 text-amber-600 group-hover:text-amber-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_bearings">Bearings (T/G)</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-red"></div>
                </a>
                <a href="Francis_SOP_Shaft_Alignment.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="crosshair" class="w-4 h-4 text-amber-600 group-hover:text-amber-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_align">Shaft Alignment</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
                <a href="Francis_SOP_Recovery.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="life-buoy" class="w-4 h-4 text-amber-600 group-hover:text-amber-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_recovery">Seal Recovery</span>
                    </div>
                </a>
                <a href="Francis_SOP_Lubrication.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="droplet" class="w-4 h-4 text-amber-600 group-hover:text-amber-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_lube">Lubrication Control</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
                <a href="Francis_SOP_Braking_System.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="octagon" class="w-4 h-4 text-amber-600 group-hover:text-amber-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_brakes">Brakes & Jacking</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
            </div>

            <!-- Wear Analytics Quick Link -->
            <div class="mt-4 pt-4 border-t border-slate-700/50">
                <a href="Francis_Wear_Analytics.html"
                    class="text-[10px] text-amber-500 hover:text-white font-bold tracking-widest uppercase flex items-center gap-2 justify-end">
                    <span data-i18n="wear_analytics">Wear Analytics</span> <i data-lucide="bar-chart-2"
                        class="w-3 h-3"></i>
                </a>
            </div>
        </div>

        <!-- SECTOR 3: ENERGY & SAFETY -->
        <div class="sector-card p-6 rounded-lg relative overflow-hidden group">
            <div class="absolute top-0 left-0 w-1 h-full bg-red-500/50 group-hover:bg-red-400 transition"></div>
            <h2 class="text-xl font-bold text-red-500 mb-6 flex items-center gap-2">
                <i data-lucide="shield-alert"></i> <span data-i18n="sec_safety">SAFETY & CONTROL</span>
            </h2>

            <div class="space-y-3">
                <a href="Francis_Safety_System_Integrity.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="lock" class="w-4 h-4 text-red-600 group-hover:text-red-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white" data-i18n="link_hpu">HPU &
                            ESD Logic</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>
                <a href="Francis_SOP_Gov_Logic.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="cpu" class="w-4 h-4 text-red-600 group-hover:text-red-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white" data-i18n="link_pid">PID
                            Governor</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>

                <a href="Francis_Logic_Load_Rejection.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="zap-off" class="w-4 h-4 text-red-600 group-hover:text-red-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white"
                            data-i18n="link_loadrej">Load Rejection</span>
                    </div>
                </a>
                <a href="Francis_SOP_DC_Systems.html" class="module-link group">
                    <div class="flex items-center gap-3">
                        <i data-lucide="battery-charging" class="w-4 h-4 text-red-600 group-hover:text-red-400"></i>
                        <span class="text-sm font-bold text-slate-300 group-hover:text-white" data-i18n="link_dc">DC
                            Systems (110V/24V)</span>
                    </div>
                    <div onclick="toggleStatus(event, this)" class="status-dot status-green"></div>
                </a>

                <!-- Logic Logger Quick Link -->
                <a href="Francis_Logic_Logger.html"
                    class="block w-full text-center py-2 mt-2 bg-red-900/20 border border-red-500/30 rounded text-xs font-bold text-red-400 hover:bg-red-900/40 transition">
                    <span data-i18n="enter_logic">ENTER LOGIC CODE</span>
                </a>
            </div>
        </div>

    </div>

    <!-- Footer Actions -->
    <div class="mt-8 flex justify-between items-end border-t border-slate-800 pt-4">
        <div class="text-slate-700 text-xs font-mono">
            <p data-i18n="sys_footer">SYSTEM MAP V3.0 • LOGIC INTEGRATED</p>
            <p data-i18n="health_footer">Health Score is calculated dynamically based on module status.</p>
        </div>

        <a href="Francis_Report_Generator.html" target="_blank"
            class="flex items-center gap-2 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 hover:text-white rounded border border-slate-600 transition group">
            <i data-lucide="printer" class="w-4 h-4 text-cyan-500 group-hover:text-cyan-400"></i>
            <span class="text-xs font-bold uppercase tracking-widest" data-i18n="gen_report">[ GENERATE DAILY REPORT
                ]</span>
        </a>
    </div>

    <script>
        lucide.createIcons();

        // I18N DATA
        const i18n = {
            en: {
                back_to_selector: "← Back to Turbine Selection",
                subtitle: "LOGIC HUB & SYSTEM MAP",
                mission_control: "Mission Control",
                start_seq: "START SEQUENCE",
                emergency: "Emergency",
                protocols: "PROTOCOLS",
                startup: "Startup",
                flowchart: "FLOWCHART",
                operator_log: "Operator Log",
                record_obs: "RECORD OBS",
                peak_pressure: "Peak Pressure (24h)",
                health: "HEALTH",
                active_risks: "Active Risks",
                seal_leak: "• Seal Leakage",
                peak_detect: "• PEAK SURGE DETECT",
                sec_flow: "FLOW & PRESSURE",
                link_miv: "MIV & Bypass",
                link_penstock: "Penstock",
                link_intake: "Intake",
                link_cooling: "Cooling Water",
                link_drainage: "Drainage",
                sec_rot: "ROTATION",
                link_bearings: "Bearings (T/G)",
                link_align: "Shaft Alignment",
                link_recovery: "Seal Recovery",
                link_lube: "Lubrication Control",
                link_brakes: "Brakes & Jacking",
                wear_analytics: "Wear Analytics",
                sec_safety: "SAFETY & CONTROL",
                link_hpu: "HPU & ESD Logic",
                link_pid: "PID Governor",
                link_loadrej: "Load Rejection",
                link_dc: "DC Systems (110V/24V)",
                enter_logic: "ENTER LOGIC CODE",
                sys_footer: "SYSTEM MAP V3.0 • LOGIC INTEGRATED",
                health_footer: "Health Score is calculated dynamically based on module status.",
                gen_report: "[ GENERATE DAILY REPORT ]"
            },
            bs: {
                back_to_selector: "← Nazad na Izbor Turbina",
                subtitle: "LOGIČKI HUB & SISTEMSKA MAPA",
                mission_control: "Kontrola Misije",
                start_seq: "START SEKVENCA",
                emergency: "Hitno",
                protocols: "PROTOKOLI",
                startup: "Pokretanje",
                flowchart: "DIJAGRAM",
                operator_log: "Dnevnik Operatera",
                record_obs: "UPIŠI OPAŽANJE",
                peak_pressure: "Vršni Pritisak (24h)",
                health: "ZDRAVLJE",
                active_risks: "Aktivni Rizici",
                seal_leak: "• Curenje Zaptivača",
                peak_detect: "• VRŠNI UDAR DETEKTOVAN",
                sec_flow: "PROTOK I PRITISAK",
                link_miv: "GUV i Bajpas",
                link_penstock: "Cjevovod (Tlačni)",
                link_intake: "Zahvat i Rešetke",
                link_cooling: "Rashladna Voda",
                link_drainage: "Drenaža i Odvodnja",
                sec_rot: "ROTACIJA",
                link_bearings: "Ležajevi (T/G)",
                link_align: "Centriranje Vratila",
                link_recovery: "Oporavak Zaptivača",
                link_lube: "Kontrola Podmazivanja",
                link_brakes: "Kočenje i Podizanje",
                wear_analytics: "Analiza Habanja",
                sec_safety: "SIGURNOST I KONTROLA",
                link_hpu: "HPU i ESD Logika",
                link_pid: "PID Regulator",
                link_loadrej: "Logika Ispada Tereta",
                link_dc: "DC Napajanje (110V/24V)",
                enter_logic: "UNOS LOGIČKOG KODA",
                sys_footer: "SISTEMSKA MAPA V3.0 • LOGIKA INTEGRISANA",
                health_footer: "Rezultat Zdravlja se računa dinamički na osnovu statusa modula.",
                gen_report: "[ GENERIŠI DNEVNI IZVJEŠTAJ ]"
            }
        };

        function setLang(lang) {
            localStorage.setItem('anohub_lang_pref', lang);

            // UI Toggle
            if (lang === 'en') {
                document.getElementById('btnEn').className = "px-3 py-1 text-xs font-bold bg-cyan-600 text-white rounded hover:bg-cyan-500 transition";
                document.getElementById('btnBs').className = "px-3 py-1 text-xs font-bold bg-slate-700 text-slate-400 rounded hover:bg-slate-600 transition";
            } else {
                document.getElementById('btnBs').className = "px-3 py-1 text-xs font-bold bg-cyan-600 text-white rounded hover:bg-cyan-500 transition";
                document.getElementById('btnEn').className = "px-3 py-1 text-xs font-bold bg-slate-700 text-slate-400 rounded hover:bg-slate-600 transition";
            }

            // Update Text
            document.querySelectorAll('[data-i18n]').forEach(el => {
                const key = el.getAttribute('data-i18n');
                if (i18n[lang][key]) el.innerText = i18n[lang][key];
            });
        }

        function toggleStatus(event, element) {
            event.preventDefault(); // Prevent link click
            // Cycle classes: green -> yellow -> red -> green
            if (element.classList.contains('status-green')) {
                element.className = 'status-dot status-yellow';
            } else if (element.classList.contains('status-yellow')) {
                element.className = 'status-dot status-red';
            } else {
                element.className = 'status-dot status-green';
            }
            recalcHealth();
        }

        function recalcHealth() {
            const dots = document.querySelectorAll('.status-dot');
            let total = dots.length * 2; // Green = 2 pts, Yellow = 1, Red = 0
            let current = 0;

            dots.forEach(d => {
                if (d.classList.contains('status-green')) current += 2;
                if (d.classList.contains('status-yellow')) current += 1;
            });

            const pct = Math.round((current / total) * 100);
            document.getElementById('scoreVal').innerText = pct + "%";
            document.querySelector('.health-dial').style.setProperty('--health', pct + "%");

            // Adjust dial color based on score
            const dial = document.querySelector('.health-dial');
            if (pct < 50) {
                dial.style.background = `conic-gradient(from 180deg, #ef4444 0%, #ef4444 ${pct}%, #334155 ${pct}%, #334155 100%)`;
            } else if (pct < 80) {
                dial.style.background = `conic-gradient(from 180deg, #eab308 0%, #eab308 ${pct}%, #334155 ${pct}%, #334155 100%)`;
            } else {
                dial.style.background = `conic-gradient(from 180deg, #22c55e 0%, #22c55e ${pct}%, #334155 ${pct}%, #334155 100%)`;
            }
        }

        // Init
        const pref = localStorage.getItem('anohub_lang_pref') || 'en';
        setLang(pref);
        recalcHealth();
    </script>
</body>

</html>